{"componentChunkName":"component---src-templates-post-js","path":"/desplegar-tu-blog-de-gatsby-en-git-hub-pages-actions/","webpackCompilationHash":"268c83d00b7783163f58","result":{"data":{"markdownRemark":{"html":"<p>Dado que Gatsby genera archivos est√°ticos, puedes desplegarlos en cualquier lugar. Pero la opci√≥n m√°s f√°cil y r√°pida ser√≠a desplegar tu web en GitHub Pages.</p>\n<h2 id=\"desplegar-con-gh-pages-manualmente\"><a href=\"#desplegar-con-gh-pages-manualmente\" aria-label=\"desplegar con gh pages manualmente permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Desplegar con gh-pages (manualmente)</h2>\n<p>Gatsby genera su sitio est√°tico cuando ejecuta el comando <code class=\"language-text\">gatsby build</code>.</p>\n<p>El √∫nico problema aqu√≠ es que las p√°ginas de GitHub esperan que los archivos de tu web est√©n en el directorio ra√≠z, pero Gatsby genera los archivos en el directorio llamado <code class=\"language-text\">public</code>. Por lo tanto, no podemos alojar el c√≥digo fuente y los archivos p√∫blicos en el mismo repositorio.</p>\n<p><a href=\"https://www.npmjs.com/package/gh-pages\"><code class=\"language-text\">gh-pages</code></a> es un paquete realmente bueno que te ayuda a desplegar sitios est√°ticos a un repositorio de GitHub desde cualquier lugar.</p>\n<h3 id=\"pasos\"><a href=\"#pasos\" aria-label=\"pasos permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pasos</h3>\n<ul>\n<li><code class=\"language-text\">yarn add gh-pages --dev</code></li>\n<li>\n<p>Luego en tu archivo <code class=\"language-text\">package.json</code> crea los siguientes npm scripts:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    ...\n    <span class=\"token property\">\"clean\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rm -rf public &amp;&amp; rm -rf .cache\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby build\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"yarn run clean &amp;&amp; yarn run build &amp;&amp; gh-pages -d public -b master\"</span><span class=\"token punctuation\">,</span>\n    ...\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>Ejecuta el script <code class=\"language-text\">yarn deploy</code> y tu sitio est√°tico estar√° en funcionamiento en unos segundos üëå</li>\n</ul>\n<h2 id=\"desplegar-con-github-actions\"><a href=\"#desplegar-con-github-actions\" aria-label=\"desplegar con github actions permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Desplegar con GitHub Actions</h2>\n<p>El m√©todo anterior desplegabas tu web de Gatsby desde tu m√°quina cada vez que quer√≠as, manualmente, pero una forma de automatizar el desploy de tu sitio es usando GitHub Actions. Para desplegar nuestra web usaremos <a href=\"https://github.com/marketplace/actions/gatsby-publish\">Gatsby Publish</a></p>\n<h3 id=\"pasos-1\"><a href=\"#pasos-1\" aria-label=\"pasos 1 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pasos</h3>\n<ul>\n<li>Crear la carpeta <code class=\"language-text\">.github</code>, dentro de estar crear la carpeta <code class=\"language-text\">workflows</code></li>\n<li>\n<p>Crear el archivo <code class=\"language-text\">deploy.yml</code> dentro de la carpeta <code class=\"language-text\">workflow</code></p>\n<div class=\"gatsby-highlight\" data-language=\"terminal\"><pre class=\"language-terminal\"><code class=\"language-terminal\">.github\n‚îî‚îÄ‚îÄ workflows\n  ‚îî‚îÄ‚îÄ deploy.yml</code></pre></div>\n</li>\n<li>Crea un <a href=\"https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line\">token personal en GitHub</a> checando <code class=\"language-text\">repo</code> para que el action tenga acceso a pushear a tu repositorio.</li>\n<li>Guarda el token como una <a href=\"https://help.github.com/en/actions/configuring-and-managing-workflows/creating-and-storing-encrypted-secrets#creating-encrypted-secrets\">variable en secrets</a>. En el c√≥digo a continuaci√≥n dicha variable es <code class=\"language-text\">ACCESS_TOKEN</code> pero puedes ponerle el nombre que gustes.</li>\n<li>\n<p>Luego en el archivo <code class=\"language-text\">deploy.yml</code> agregar el siguiente c√≥digo</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Gatsby Publish\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n<span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">[</span>brach donde est√° tu c√≥digo principal<span class=\"token punctuation\">]</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n<span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n  <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> enriikke/gatsby<span class=\"token punctuation\">-</span>gh<span class=\"token punctuation\">-</span>pages<span class=\"token punctuation\">-</span>action@v2\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">access-token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.ACCESS_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<p>Lo que har√° este action ser√° <strong>desplegar tu sitio cada vez que realices un push</strong> al branch donde est√° tu c√≥digo principal.</p>\n<p>Puedes ver todas las variables que puedes usar con este action en su <a href=\"https://github.com/marketplace/actions/gatsby-publish\">documentaci√≥n</a> üëÄ</p>\n<p>That's all folks! üéâ</p>\n<p>Espero haberte ayudado ‚úåÔ∏èüòä</p>","timeToRead":2,"excerpt":"Dado que Gatsby genera archivos est√°ticos, puedes desplegarlos en cualquier lugar. Pero la opci√≥n m√°s f√°cil y r√°pida ser√≠a desplegar tu web‚Ä¶","frontmatter":{"title":"Desplegar tu blog de Gatsby en GitHub Pages (Actions)","thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAEAUlEQVQ4y3WU+28UVRTHt/IP+JMxmhgwWuhaK3RfxZj4kyH+YGK0EAxa2i376gOiiEpUJMZHUMTastudnX1QS1NpMJBS6mJsSyHEQHjabX004EI00mLtI0vZncc9fs90pumKbHKyd+7c+5nv95xzr83vkGzWz++ILrPGAadkD3nktxHpgCt2FZHFeDhUJX8cdMWqlu7xVS4w/JVR2xKYZMC2rIkuD7pjPXjWfeVJqnm8nWpWhmnzqjDGEaq3JyhQKRPWDPkcksf8eIkFLYL5KqMv4Os5f0WKasvDYo/3aCHdcVm5ciqrZc7c0E4eHlUi208UoFbz2mUKueOEvdssqKEQ5EVYgycJJRHavaEnf/3nSZ2I9Du5gpYdm9SvjUzos1PzxtzcP/N6+5sn8q+tbBNNrk7yO6UdBsMUxjZXsDKGtTb3F7BJ3PpzTmlpPK7Amlazqk3nzZyGjzZ9q4+d/YPBok++oNSvbtcbXCmGPrdo2cgZbO5e35PnhZeHs4r3yYgKCPnWRAl2EDGCC9pctp82PfaV6I2e11gt9hS2VMgUcEkjsHyfUU3QdSwUv2cmNChTAdPqn2rnxLOqooATwWC8F7uqD2k8RqiNrg78S9U2tMI7XM29/l62qu+pO6qxMswbG/8LNOacGEN1XXmY33OoTe6vCQq72W7aa49R69Z+hYED3SOcM2EsdEqLUPOf1QhTlfUBDj3kTPL7DFf3aoM7QRtXtOipD4Y4L2KoJ6OZRSiCmsAiKFJmhszPEwzMBhwy7Qv1aUg2xd8b+F8oW0RuxY51nTQ9maPcbF6gfcTc1Dz9dPq6FnQZwL/Z8ik+AWd6fymcS4/Tiw98JpK7Bu+Csgou1LZnk6I/cVF833mFjsXOi9tzeS6mWmdHN7hi4zaczU/4OIXfSM8zZPBQhl5+aO89oehZerW0VbzyaAvVPhHmxtfRj4XaUokL2WdDG6wNOOLcIsrEjRmuNAEi7glF2zQ+HScAxXepS0YvvvX8wUJwdYoZQauxh+txNnGcZrFAZejw4VFR/fAXxVBUn21vXP6lCL+eNuaPhM+pfHmAcRM5vN9mnuO1XGmo0I/sPzu1FPrSg5+L+LsLhRr8JqMhRfrxxEXj+ce+XwUuEaXZc5C7wF900+B/+9aqLoIKVd75w/TMrdt32M6FgWvIWRuZLaWbQVCmGzB3F+e2w2SUGJciWqLEnNjZ5DlAdWUSNT+TyHV8eHJ6/NJfM12fnp7d8Mg+LfH+oIrrTEPrKGyTlVmwBacLHB4Y95lpfx3yMdrgOEDesjjVlBr5Ufnu49bgapoFuAkBgbtguMJt5l22aN9bEVmGaq5HG3Rj4xg3LAfmfuPW4GpaBWCbFswPYf8CortjhsAXaAEAAAAASUVORK5CYII=","width":150,"height":150,"src":"/static/fa308e9788ec8f7c3d6bc52e9f37c5ec/4148e/gatsby.png","srcSet":"/static/fa308e9788ec8f7c3d6bc52e9f37c5ec/4148e/gatsby.png 1x"}}},"banner":"https://i.imgur.com/aLVxRAo.png","slug":"desplegar-tu-blog-de-gatsby-en-git-hub-pages-actions","date":"2020-05-06T00:00:00.000Z","categories":["Code"],"tags":["gatsby","github","actions"],"template":"post"},"fields":{"slug":"/desplegar-tu-blog-de-gatsby-en-git-hub-pages-actions/","date":"2020-05-06T00:00:00.000Z"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/desplegar-tu-blog-de-gatsby-en-git-hub-pages-actions/"}}}